@model List<PoEBrowser.Models.CurrencyItem>

@{
    ViewData["Title"] = "Currency";
}

@{
    int totalItems = Model.Count();
}

<div class="container">

    <div class="row">
        <div class="col" style="text-align: center; font-size: x-small; width: 100%">
            <i>Displaying @totalItems Items</i>
        </div>
    </div>

    @{
        var prevItemType = "";

        <div class="container">
            @{
                var itemCount = 0;
                var rowClosed = false;

                for (int i = 0; i < totalItems; i++)
                {
                    if (prevItemType != Model[i].ItemClass)
                    {
                        if (!rowClosed)
                        {
                        @:</div>
                        rowClosed = true;
                    }

                    <div class="row" style="width: 100%">
                        <div class="col-md pt-4">
                            <h5><b>@Model[i].ItemClass</b></h5>
                        </div>
                    </div>

                    itemCount = 0;
                }

                if (itemCount == 0)
                {
                    @:<div class='row'>
                        rowClosed = false;
                    }

                    <div class="col-md-4">
                        <img style="max-height: 25px; width: auto" src=@Model[i].ImgSrcString>
                        <a asp-action="GetCurrencyItem" asp-route-name="@Model[i].ItemName">@Model[i].ItemName</a>
                    </div>

                    if (itemCount == 2)
                    {
                        itemCount = 0;
                        rowClosed = true;
                    @:</div>
                }
                else
                {
                    itemCount++;
                }

                prevItemType = Model[i].ItemClass;
            }

            }

        </div>
    }
</div>
